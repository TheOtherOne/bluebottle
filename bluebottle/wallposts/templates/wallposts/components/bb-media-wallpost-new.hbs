{% load templatetag_handlebars %}
{% load i18n %}
{% load static %}


{% tplhandlebars "components/bb-media-wallpost-new" %}
    {{#with wallpost}}
        <div class="wallpost-update">
            <header class="wallpost-update-header">
                <strong class="wallpost-update-title">{% trans "Write an update" %}</strong>

                <ul class="wallpost-header-action">
                    <li>
                        <a class="action-add-video" data-action-type="show-video-input">
                            {% trans "Add an video" %}
                        </a>
                    </li>
                    <li>
                        <a class="action-add-photo" data-action-type="show-photo-upload">
                            {{!-- {{view App.UploadMultipleFilesInput multiple="multiple" accept="image/*"}} --}}
                            {% trans "Add photo's" %}
                        </a>
                    </li>
                </ul>
            </header>
            <div class="wallpost-update-form">
                {{#if errors.text }}
                    <div class="errors">{{#each errors.text }}<p class="error">{{this}}</p>{{/each}}</div>
                {{/if}}

                {{view Ember.TextArea valueBinding="text" name="wallpost-update" class="wallpost-update-post" classBinding="errors.text.length:error" placeholder="Share an update with your supporters"}}

                <div class="wallpost-photos">
                    {{bb-upload-multiple-images uploadFilesBinding="uploadFiles" multiple="multiple" removeFile="removeFile" addFile="addFile" accept="image/*"}}
                </div>
                
                <div class="wallpost-video">   
                    {{input valueBinding="video_url" placeholder="Youtube or Vimeo url" id="wallpost-video" name="wallpost-video" classBinding="errors.video_url.length:error"}}
                </div>

            </div>
            <footer class="wallpost-update-footer">
                <div class="wallpost-update-actions">
                    <button class="button action-cancel" {{action 'toggleForm' target='view'}}>{% trans "Cancel" %}</button>
                    <button class="button action-submit" {{action 'submit'}}>{% trans "Post" %}</button>
                </div>
            </footer>
        </div>
    {{/with}}


{% endtplhandlebars %}