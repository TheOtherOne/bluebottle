{% load bb_ember %}
{% load i18n %}
{% load static %}


{% tplhandlebars "my_project_organisation" %}

    <legend>
        <strong>{% trans "Organisation" %}</strong>
    </legend>

    {{#if hasMultipleOrganizations}}
        {% trans "It appears that you already have an (other) organisation. Select it below or fill out the form to create a new one." %}
        {{#each org in organizations}}
            <br />
            <a {{action 'selectOrganization' org}}>{{org.name}}</a> {{org.description}}
        {{/each}}
    {{/if}}

    <fieldset>
        <ul>
            <li class="control-group has-popover" data-content="{% trans "Name of your organisation" %}">
                <label class="control-label">{% trans "Name" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.name" classBinding="organization.errors.name.length:error" maxlength=255}}
                </div>

                {{#if organization.errors.name }}
                    <div class="has-errors">{{#each organization.errors.name }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>

            <li class="control-group has-popover" data-content="{% trans "Describe your organisation" %}">
                <label class="control-label">{% trans "Description" %}</label>
                <div class="controls">
                    {{view Em.TextArea valueBinding="organization.description" classBinding="organization.errors.description.length:error"
                        maxlength=800 }}
                </div>

                {{#if organization.errors.description }}
                    <div class="has-errors">{{#each organization.errors.description }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>
        </ul>
    </fieldset>
    <fieldset>
        <legend>
            <strong>{% trans "Address" %}</strong>
        </legend>
        <ul>
            <li class="control-group has-popover" data-content="{% trans "Street, house number, the place in your city" %}">
                <label class="control-label">{% trans "Address line 1" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.address_line1" classBinding="organization.errors.address_line1.length:error"
                        maxlength=100 }}
                </div>

                {{#if organization.errors.address_line1 }}
                    <div class="has-errors">{{#each organization.errors.address_line1 }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}

            </li>

            <li class="control-group has-popover" data-content="{% trans "More about your address" %}">
                <label class="control-label">{% trans "Address line 2" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.address_line2" classBinding="organization.errors.address_line2.length:error"
                        maxlength=100 }}
                </div>

                {{#if organization.errors.address_line2 }}
                    <div class="has-errors">{{#each organization.errors.address_line2 }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>


            <li class="control-group has-popover" data-content="{% trans "City or village.." %}">
                <label class="control-label">{% trans "City" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.city" classBinding="organization.errors.city.length:error"
                        maxlength=100 }}
                </div>

                {{#if organization.errors.city }}
                    <div class="has-errors">{{#each organization.errors.city }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>

            <li class="control-group has-popover" data-content="{% trans "Postal code" %}">
                <label class="control-label">{% trans "Postal code" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.postal_code" classBinding="organization.errors.postal_code.length:error"
                        maxlength=20}}
                </div>

                {{#if organization.errors.postal_code }}
                    <div class="has-errors">{{#each organization.errors.postal_code }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>

            <li class="control-group has-popover" data-content="{% trans "Country or territory" %}">
                <label class="control-label">{% trans "Country" %}</label>
                <div class="controls">
                    {{view App.CountrySelectView valueBinding="organization.country" classBinding="organization.errors.country.length:error"}}
                </div>

                {{#if organization.errors.country }}
                    <div class="has-errors">{{#each organization.errors.country }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>
        </ul>
    </fieldset>
    <fieldset>
        <legend>
            <strong>{% trans "Online" %}</strong>
        </legend>
        <ul>

            <li class="control-group has-popover" data-content="{% trans "Does your organization have a website?" %}">
                <label class="control-label">{% trans "Website" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.website" classBinding="organization.errors.website.length:error"}}
                </div>

                {{#if organization.errors.website }}
                    <div class="has-errors">{{#each organization.errors.website }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>

            <li class="control-group has-popover" data-content="{% trans "Email address" %}">
                <label class="control-label">{% trans "Email" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.email" classBinding="organization.errors.email.length:error"}}
                </div>

                {{#if organization.errors.email }}
                    <div class="has-errors">{{#each organization.errors.email }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>

            <li class="control-group has-popover" data-content="{% trans "Does your organization have a twitter account?" %}">
                <label class="control-label">{% trans "Twitter" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.twitter" placeholder="@twitteraccount" classBinding="organization.errors.twitter.length:error"
                        maxlength=255}}
                </div>

                {{#if organization.errors.twitter }}
                    <div class="has-errors">{{#each organization.errors.twitter }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>

            <li class="control-group has-popover" data-content="{% trans "Does your organization have a facebook group?" %}">
                <label class="control-label">{% trans "Facebook" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.facebook" placeholder="https://www.facebook.com/<groupname>" classBinding="organization.errors.facebook.length:error"
                        maxlength=255}}
                </div>

                {{#if organization.errors.facebook }}
                    <div class="has-errors">{{#each organization.errors.facebook }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>

            <li class="control-group has-popover" data-content="{% trans "Can we reach you on Skype?" %}">
                <label class="control-label">{% trans "Skype" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.skype" placeholder="skype name" classBinding="organization.errors.skype.length:error"
                        maxlength=255 }}
                </div>

                {{#if organization.errors.skype }}
                    <div class="has-errors">{{#each organization.errors.skype }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>
        </ul>
    </fieldset>

    <legend>
        <strong>{% trans "Legal status" %}</strong>
        <p>{% trans "Please upload an excerpt of your official registration to show that your NGO is registered." %}</p>
    </legend>


    <fieldset>
        <ul>
            <li class="control-group has-popover" data-content="{% trans "What is the legal status of your organization? Include the registration number." %}">
                <label class="control-label">{% trans "Legal status" %}</label>
                <div class="controls">
                    {{view Em.TextField valueBinding="organization.legalStatus" placeholder="Legal status" classBinding="organization.errors.legalStatus.length:error"}}
                </div>

                {{#if organization.errors.legalStatus }}
                    <div class="has-errors">{{#each organization.errors.legalStatus }}<p>{{this}}</p>{{/each}}</div>
                {{/if}}
            </li>

            <li class="control-group has-popover" data-content="{% trans "please upload a copy of your passport. Make sure it's a valid one and we can read it clearly!" %}">
                <label class="control-label">
                    {% trans "Documents" %} ({{organization.documents.length}})<br />
                    <small>
                        {% trans ".jpg, .png or .pdf" %}
                    </small>
                </label>

                <div class="controls manage-project-files">
                    <a class="btn btn-iconed btn-upload">
                        {{view App.UploadMultipleFiles name="documents" multiple=true}}
                        <span class="flaticon solid upload-document-1"></span>
                        {% trans "Upload scan(s)" %}
                    </a>
                    <br />
                    {{#each doc in organization.documents}}
                        <a {{action removeFile doc}}><span class="flaticon solid minus-2"></span></a>
                        <a {{bindAttr href=doc.file.url}}>
                            {{doc.file.name}} <small>{{doc.file.size}}</small><br/>
                        </a>
                    {{/each}}
                </div>
            </li>
        </ul>
    </fieldset>


{% endtplhandlebars %}

